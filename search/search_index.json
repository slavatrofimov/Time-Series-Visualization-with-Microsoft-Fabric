{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Time Series Visualization with Power BI and KQL Databases","text":"<p>Disclaimer</p> <p>This solution accelerator is a community project and is not developed, maintained, or supported by Microsoft. It is provided \"as-is\" without warranty of any kind. Use at your own discretion.</p> <p>Last updated: January 2026</p>"},{"location":"#overview","title":"Overview","text":"<p>This solution accelerator helps you analyze time series data in Power BI using an interactive brush-based selection experience combined with a KQL Database in Microsoft Fabric (or Azure Data Explorer). Simply select what metrics to analyze, select an initial time period, and choose how to lay out your charts. Then, drag the time-brushing controls to select any portion of the time range with your visuals updating instantly, even when working with billions of rows.</p> <p> </p> Interactive time series visualization with brush-based selection <p>This solution accelerator uses tag-based data, which is common in operational and industrial control scenarios (a tag is just an identifier for an instrument or device). Yet, this solution can be adapted to numerous other time-series analytics scenarios.</p>"},{"location":"#solution-variants","title":"Solution Variants","text":"<p>This solution accelerator includes two Power BI projects:</p> <ul> <li> <p> Basic Solution</p> <p>Demonstrates the core time series visualization concepts and can be easily customized to work with your data with minimal skill and effort.</p> <p> Get Started</p> </li> <li> <p> Advanced Solution</p> <p>Demonstrates a broader range of capabilities and offers more flexibility with customization. Requires more effort and higher technical proficiency.</p> <p> Get Started</p> </li> </ul>"},{"location":"#key-capabilities","title":"Key Capabilities","text":""},{"location":"#interactive-time-selection","title":"Interactive Time Selection","text":"<ul> <li>Start by choosing a time period using relative time period filters or custom date ranges</li> <li>Zoom into any time range on the timeline chart</li> <li>See the full context including anomalies and timeline markers for important events</li> <li>All visuals update automatically when you change the time range</li> </ul>"},{"location":"#rich-time-series-visualization","title":"Rich Time Series Visualization","text":"<ul> <li>Intelligent binning of high-density time series into adaptive time spans allows working with billions of data points</li> <li>Compare multiple metrics for multiple assets, metrics and tags side by side</li> <li>Choose aggregation (average, sum, min, max) and time granularity</li> <li>Detect anomalies and highlight them on your charts</li> <li>View descriptive statistics and correlations between different time series</li> <li>Contextualize time series data with details about asset hierarchies and tag metadata</li> <li>Intuitive chart layouts help you identify trends, patterns and relationships in your data</li> </ul>"},{"location":"#prerequisites","title":"Prerequisites","text":"<ul> <li>Power BI Desktop (latest version recommended)</li> <li>Microsoft Account with access to:<ul> <li>A KQL Database (Microsoft Fabric or Azure Data Explorer)</li> <li>A Fabric Workspace (to publish and share your report)</li> </ul> </li> </ul> <p>Sample Data Available</p> <p>Both solutions come pre-configured to use a publicly-accessible KQL database with sample data, so you can try them out immediately without setting up your own data source.</p>"},{"location":"#solution-components","title":"Solution Components","text":"Component Purpose KQL Database Highly scalable time series storage, processing and query capabilities Power BI Semantic Model DirectQuery mode delegates query execution to KQL Database Dynamic M Query Parameters Pass user inputs to construct custom queries Power Query Functions Parse parameters and implement advanced logic Field Parameters Enable end users to customize chart layouts Time Series Brush Slicer Custom visual for intuitive time navigation Power BI Report Rich and highly-interactive data visualization"},{"location":"#learn-more","title":"Learn More","text":"<ul> <li>Custom Visual: Time-Series-Brush-Slicer on GitHub</li> <li>KQL Documentation: Kusto Query Language</li> <li>Power BI DirectQuery: DirectQuery Guide</li> <li>Dynamic Parameters: Power BI Dynamic M Query Parameters</li> </ul>"},{"location":"contributing/","title":"Contributing","text":"<p>Thank you for your interest in contributing to the Time Series Visualization solution! This document provides guidelines for contributing to this project.</p>"},{"location":"contributing/#ways-to-contribute","title":"Ways to Contribute","text":""},{"location":"contributing/#reporting-issues","title":"Reporting Issues","text":"<p>Found a bug or have a suggestion? Please open an issue on GitHub:</p> <ol> <li>Check if a similar issue already exists</li> <li>Use a clear, descriptive title</li> <li>Provide detailed information:<ul> <li>Steps to reproduce (for bugs)</li> <li>Expected vs. actual behavior</li> <li>Screenshots if applicable</li> <li>Your environment (Power BI version, browser, etc.)</li> </ul> </li> </ol>"},{"location":"contributing/#suggesting-enhancements","title":"Suggesting Enhancements","text":"<p>We welcome ideas for improvements:</p> <ul> <li>New features or capabilities</li> <li>Documentation improvements</li> <li>User experience enhancements</li> <li>Performance optimizations</li> </ul>"},{"location":"contributing/#code-contributions","title":"Code Contributions","text":""},{"location":"contributing/#before-you-start","title":"Before You Start","text":"<ol> <li>Check existing issues to see if someone is already working on it</li> <li>Open an issue to discuss significant changes before starting work</li> <li>Fork the repository and create a branch for your changes</li> </ol>"},{"location":"contributing/#development-setup","title":"Development Setup","text":"<ol> <li> <p>Clone your fork:    <pre><code>git clone https://github.com/YOUR-USERNAME/Time-Series-Visualization-with-Microsoft-Fabric.git\n</code></pre></p> </li> <li> <p>Install Power BI Desktop (latest version)</p> </li> <li> <p>Open the relevant <code>.pbip</code> file to make changes</p> </li> </ol>"},{"location":"contributing/#making-changes","title":"Making Changes","text":"<ol> <li> <p>Create a descriptive branch:    <pre><code>git checkout -b feature/your-feature-name\n</code></pre></p> </li> <li> <p>Make your changes following the coding guidelines below</p> </li> <li> <p>Test your changes thoroughly</p> </li> <li> <p>Commit with clear messages:    <pre><code>git commit -m \"Add feature: description of what you added\"\n</code></pre></p> </li> </ol>"},{"location":"contributing/#submitting-a-pull-request","title":"Submitting a Pull Request","text":"<ol> <li>Push your changes to your fork</li> <li>Open a Pull Request against the <code>main</code> branch</li> <li>Fill out the PR template with:<ul> <li>Description of changes</li> <li>Related issue numbers</li> <li>Testing performed</li> <li>Screenshots if applicable</li> </ul> </li> </ol>"},{"location":"contributing/#coding-guidelines","title":"Coding Guidelines","text":""},{"location":"contributing/#power-query-m-language","title":"Power Query (M Language)","text":"<ul> <li>Use descriptive variable names</li> <li>Add comments for complex logic</li> <li>Follow consistent formatting</li> <li>Handle errors gracefully</li> </ul>"},{"location":"contributing/#kql-queries","title":"KQL Queries","text":"<ul> <li>Use meaningful table and column aliases</li> <li>Add comments for complex query sections</li> <li>Optimize for performance</li> <li>Test with realistic data volumes</li> </ul>"},{"location":"contributing/#power-bi-reports","title":"Power BI Reports","text":"<ul> <li>Use consistent naming conventions for:<ul> <li>Pages</li> <li>Visuals</li> <li>Measures</li> <li>Parameters</li> </ul> </li> <li>Document any custom calculations</li> <li>Ensure accessibility (colors, contrast, alt text)</li> </ul>"},{"location":"contributing/#documentation","title":"Documentation","text":"<ul> <li>Use clear, concise language</li> <li>Include examples where helpful</li> <li>Keep formatting consistent with existing docs</li> <li>Update relevant sections when making code changes</li> </ul>"},{"location":"contributing/#documentation-contributions","title":"Documentation Contributions","text":"<p>Documentation is crucial! Ways to help:</p> <ul> <li>Fix typos or unclear explanations</li> <li>Add examples or use cases</li> <li>Improve getting started guides</li> <li>Translate to other languages</li> </ul>"},{"location":"contributing/#local-documentation-preview","title":"Local Documentation Preview","text":"<p>To preview documentation changes locally:</p> <pre><code># Install MkDocs\npip install mkdocs-material\n\n# Serve locally\nmkdocs serve\n</code></pre> <p>Then open <code>http://localhost:8000</code> in your browser.</p>"},{"location":"contributing/#code-of-conduct","title":"Code of Conduct","text":""},{"location":"contributing/#our-pledge","title":"Our Pledge","text":"<p>We are committed to providing a welcoming and inclusive environment for all contributors.</p>"},{"location":"contributing/#expected-behavior","title":"Expected Behavior","text":"<ul> <li>Be respectful and considerate</li> <li>Welcome newcomers and help them get started</li> <li>Accept constructive criticism gracefully</li> <li>Focus on what's best for the community</li> </ul>"},{"location":"contributing/#unacceptable-behavior","title":"Unacceptable Behavior","text":"<ul> <li>Harassment or discriminatory language</li> <li>Personal attacks or trolling</li> <li>Publishing others' private information</li> <li>Other conduct inappropriate in a professional setting</li> </ul>"},{"location":"contributing/#getting-help","title":"Getting Help","text":"<ul> <li>Questions about the project: Open a Discussion on GitHub</li> <li>Bug reports: Open an Issue on GitHub</li> <li>Security concerns: Please report privately via GitHub Security Advisories</li> </ul>"},{"location":"contributing/#recognition","title":"Recognition","text":"<p>Contributors will be recognized in:</p> <ul> <li>The project README</li> <li>Release notes for significant contributions</li> <li>Our documentation</li> </ul> <p>Thank you for helping improve this project! \ud83d\ude4f</p>"},{"location":"getting-started/advanced-solution/","title":"Getting Started with the Advanced Solution","text":"<p>The Advanced solution builds upon the foundation of the Basic solution, while enhancing it in several ways:</p> <ul> <li> Demonstrates the use of timeline markers to show important events</li> <li> Demonstrates a richer set of chart configuration options when paired with suitably-rich tag metadata</li> <li> Demonstrates the ability to construct more advanced KQL queries to adapt the solution to unique schemas and requirements</li> </ul>"},{"location":"getting-started/advanced-solution/#recommended-skills","title":"Recommended Skills","text":"Skill Area Level KQL  Advanced Power BI - Power Query  Advanced Power BI - Reporting  Advanced"},{"location":"getting-started/advanced-solution/#prerequisites","title":"Prerequisites","text":"<ul> <li> Power BI Desktop installed</li> <li> Access to the Power BI service</li> <li> Access to a KQL Database (Microsoft Fabric or Azure Data Explorer)</li> </ul> <p>Sample Database</p> <p>This sample solution uses the publicly-accessible KQL Database with sample data:</p> <ul> <li>Cluster: <code>https://help.kusto.windows.net/</code></li> <li>Database: <code>Trender</code></li> </ul>"},{"location":"getting-started/advanced-solution/#try-the-advanced-solution","title":"Try the Advanced Solution","text":"<p>Follow these steps to get started quickly:</p> <ol> <li> <p>Download or clone this GitHub repository to your local computer</p> </li> <li> <p>Open the project file in Power BI Desktop:    <pre><code>src/Time Series Viz - Advanced/Time Series Viz - Advanced.pbip\n</code></pre></p> </li> <li> <p>Provide credentials for your Microsoft account to sign into the publicly-available Azure Data Explorer cluster:    <pre><code>https://help.kusto.windows.net/\n</code></pre></p> </li> <li> <p>Start exploring \u2014 drag the brush to select time ranges and watch the report update</p> </li> <li> <p>Publish the report to your Fabric workspace to share with others</p> </li> </ol>"},{"location":"getting-started/advanced-solution/#adapt-advanced-solution-to-work-with-your-data","title":"Adapt Advanced Solution to Work With Your Data","text":""},{"location":"getting-started/advanced-solution/#step-1-open-the-project","title":"Step 1: Open the Project","text":"<ol> <li>Download or clone this GitHub repository to your local computer</li> <li>Open the <code>Time Series Viz - Advanced.pbip</code> file in Power BI Desktop</li> </ol>"},{"location":"getting-started/advanced-solution/#step-2-open-power-query-editor","title":"Step 2: Open Power Query Editor","text":"<ol> <li>Click on the Transform Data button to open the Power Query window</li> <li>Click the Manage Parameters button</li> </ol>"},{"location":"getting-started/advanced-solution/#step-3-update-connection-parameters","title":"Step 3: Update Connection Parameters","text":"<p>Update the following two parameters:</p> Parameter Description Example <code>p_kql_cluster</code> URL of your KQL cluster <code>https://help.kusto.windows.net/</code> or <code>https://my-cluster-name.zX.kusto.fabric.microsoft.com</code> <code>p_kql_db</code> Name of your KQL database <code>Trender</code>"},{"location":"getting-started/advanced-solution/#step-4-customize-queries","title":"Step 4: Customize Queries","text":"<p>Update queries in the semantic model to modify the logic for generating KQL queries used to retrieve your time series data and relevant tag metadata.</p> <p>Advanced Customization</p> <p>The advanced solution provides flexibility for complex scenarios:</p> <ul> <li>Custom KQL query generation logic</li> <li>Multiple data source support</li> <li>Advanced tag hierarchy handling</li> <li>Timeline marker integration</li> </ul>"},{"location":"getting-started/advanced-solution/#step-5-customize-report-visuals","title":"Step 5: Customize Report Visuals","text":"<p>Customize report visuals to show what matters most to you.</p> <p>Expertise Required</p> <p>Customizing the advanced solution requires high levels of proficiency with:</p> <ul> <li>Power Query (M language)</li> <li>KQL (Kusto Query Language)</li> <li>Power BI visualization</li> </ul> <p>While the solution can be customized in a variety of ways, specific steps for adapting this solution to your needs are beyond the scope of this tutorial. Consider using the design of the sample solution as a starting point for your customization.</p>"},{"location":"getting-started/advanced-solution/#advanced-features","title":"Advanced Features","text":""},{"location":"getting-started/advanced-solution/#timeline-markers","title":"Timeline Markers","text":"<p>The advanced solution supports timeline markers to highlight important events on your time series charts:</p> <ul> <li>Maintenance events</li> <li>Anomaly detections</li> <li>Shift changes</li> <li>Production milestones</li> </ul>"},{"location":"getting-started/advanced-solution/#enhanced-chart-configuration","title":"Enhanced Chart Configuration","text":"<p>More granular control over chart layouts:</p> <ul> <li>Multiple independent Y-axes</li> <li>Color coding by tag categories</li> <li>Small multiples configuration</li> <li>Legend customization</li> </ul>"},{"location":"getting-started/advanced-solution/#complex-query-generation","title":"Complex Query Generation","text":"<p>The Power Query layer can dynamically generate sophisticated KQL queries based on:</p> <ul> <li>User-selected tags</li> <li>Time range selections</li> <li>Aggregation preferences</li> <li>Filter configurations</li> </ul>"},{"location":"getting-started/advanced-solution/#next-steps","title":"Next Steps","text":"<ul> <li>Review the Architecture documentation</li> <li>Explore Configuration Options</li> <li>Learn about the Time Series Brush Slicer</li> </ul>"},{"location":"getting-started/basic-solution/","title":"Getting Started with the Basic Solution","text":"<p>The basic solution demonstrates the concepts of time series data visualization with Power BI and KQL databases using a publicly-available KQL database. More importantly, it can be easily customized to work with your data.</p>"},{"location":"getting-started/basic-solution/#recommended-skills","title":"Recommended Skills","text":"Skill Area Level KQL  Basic Power BI - Power Query  Basic Power BI - Reporting  Basic"},{"location":"getting-started/basic-solution/#prerequisites","title":"Prerequisites","text":"<ul> <li> Power BI Desktop installed</li> <li> Access to a KQL database (Microsoft Fabric or Azure Data Explorer)</li> <li> Access to a Fabric Workspace (to publish and share your report)</li> </ul> <p>Sample Data</p> <p>This solution uses a publicly-accessible KQL database with sample data. You will need your own KQL database to work with your own data.</p>"},{"location":"getting-started/basic-solution/#try-the-basic-solution","title":"Try the Basic Solution","text":"<p>Follow these steps to get started quickly:</p> <ol> <li> <p>Download or clone this GitHub repository to your local computer</p> </li> <li> <p>Open the project file in Power BI Desktop:    <pre><code>src/Time Series Viz - Basic/Time Series Viz - Basic.pbip\n</code></pre></p> </li> <li> <p>Provide credentials for your Microsoft account to sign into the publicly-available Azure Data Explorer cluster:    <pre><code>https://help.kusto.windows.net/\n</code></pre></p> </li> <li> <p>Start exploring \u2014 drag the brush in the time series brush slicer to select time ranges and watch the report update</p> </li> <li> <p>Optionally, publish the report to your Fabric workspace to share with others</p> </li> </ol>"},{"location":"getting-started/basic-solution/#adapt-basic-solution-to-work-with-your-data","title":"Adapt Basic Solution to Work With Your Data","text":""},{"location":"getting-started/basic-solution/#step-1-open-the-project","title":"Step 1: Open the Project","text":"<ol> <li>Download or clone this GitHub repository to your local computer</li> <li>Open the <code>Time Series Viz - Basic.pbip</code> file in Power BI Desktop</li> </ol>"},{"location":"getting-started/basic-solution/#step-2-open-power-query-editor","title":"Step 2: Open Power Query Editor","text":"<p>Click on the Transform Data button to open the Power Query window:</p> <p></p>"},{"location":"getting-started/basic-solution/#step-3-manage-parameters","title":"Step 3: Manage Parameters","text":"<p>Click the Manage Parameters button:</p> <p></p>"},{"location":"getting-started/basic-solution/#step-4-configure-parameters","title":"Step 4: Configure Parameters","text":"<p>Update the following four parameters:</p> <p></p>"},{"location":"getting-started/basic-solution/#p_kql_cluster","title":"p_kql_cluster","text":"<p>Update with the URL of your KQL cluster, such as:</p> <p><pre><code>https://help.kusto.windows.net/\n</code></pre> or <pre><code>https://my-cluster-name.zX.kusto.fabric.microsoft.com\n</code></pre></p>"},{"location":"getting-started/basic-solution/#p_kql_db","title":"p_kql_db","text":"<p>Update with the name of your KQL Database.</p>"},{"location":"getting-started/basic-solution/#p_kql_query_tag_metadata","title":"p_kql_query_tag_metadata","text":"<p>Update with the base KQL query that will return tag metadata. The query will need to be adapted to the schema of your KQL database.</p> <p>Required Columns</p> <p>This query must return the following 6 columns, whose names must match exactly:</p> Column Description <code>Tag</code> Id of a tag or time series. Must be unique! <code>TagName</code> User-friendly name of a tag. Must be unique! <code>Level1</code> Top level of your tag hierarchy <code>Level2</code> Second level of your tag hierarchy <code>Level3</code> Third level of your tag hierarchy <code>Level4</code> Fourth level of your tag hierarchy <p>Example query:</p> <pre><code>TimeseriesHierarchy \n| project \n    Tag = TimeseriesId, \n    TagName = DisplayName, \n    Level1 = tostring(Path[0]), \n    Level2 = tostring(Path[1]), \n    Level3 = tostring(Path[2]), \n    Level4 = tostring(Path[3])\n</code></pre> <p>Validate First</p> <p>Please verify that the query is valid before pasting it here!</p>"},{"location":"getting-started/basic-solution/#p_kql_query_timeseries","title":"p_kql_query_timeseries","text":"<p>Update with the base KQL query that will return your time series data.</p> <p>Required Columns</p> <p>This query must return the following 3 columns, whose names must match exactly:</p> Column Description <code>Tag</code> Id of the tag (corresponds to <code>Tag</code> in tag metadata) <code>Timestamp</code> Date and time of each event <code>Value</code> Numeric value for each observation <p>Example query:</p> <pre><code>Timeseries \n| project \n    Tag = TimeseriesId, \n    Timestamp = Timestamp, \n    Value = Value\n</code></pre>"},{"location":"getting-started/basic-solution/#step-5-authenticate","title":"Step 5: Authenticate","text":"<p>Provide credentials and sign into the KQL database specified by your parameters:</p> <p></p>"},{"location":"getting-started/basic-solution/#step-6-configure-filters-and-slicers","title":"Step 6: Configure Filters and Slicers","text":"<p>Update default filter and slicer settings to match your data.</p> <p></p> <p>Custom Anchor Date</p> <p>The sample report specifies a Custom Anchor Date for relative date filtering. This should be either cleared or updated to match your data.</p>"},{"location":"getting-started/basic-solution/#step-7-explore-and-publish","title":"Step 7: Explore and Publish","text":"<ol> <li>Start exploring \u2014 drag the brush to select time ranges and watch the report update</li> <li>Publish the report to your Fabric workspace to share with others</li> </ol>"},{"location":"getting-started/basic-solution/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about the Advanced Solution for more capabilities</li> <li>Explore Configuration Options</li> <li>Understand the Architecture</li> </ul>"},{"location":"reference/architecture/","title":"Architecture","text":"<p>This page describes the architecture and data flow of the Time Series Visualization solution.</p>"},{"location":"reference/architecture/#solution-components","title":"Solution Components","text":"<pre><code>flowchart TB\n    subgraph UserInputs[\"Power BI Report: User Inputs\"]\n        direction LR\n        A[Filters] ~~~ B[Native Slicers] ~~~ C[Time Series Brush Slicer] ~~~ D[Field Parameters]\n    end\n\n    subgraph SemanticModel[\"Power BI Semantic Model\"]\n        direction LR\n        F[Dynamic M Query Parameters] ~~~ G[Power Query Functions] ~~~ H[KQL Queries] ~~~ I[DirectQuery]\n    end\n\n    subgraph Backend[\"KQL Database\"]\n        direction LR\n        J[Tables &amp; Views] ~~~ K[Time Series Processing] ~~~ K2[Anomaly Detection]\n    end\n\n    subgraph Visualization[\"Power BI Visualizations\"]\n        direction LR\n        L[Line Charts] ~~~ M[Statistics Tables]\n    end\n\n    UserInputs ==&gt; SemanticModel\n    SemanticModel ==&gt; Backend\n    SemanticModel ==&gt; Visualization</code></pre>"},{"location":"reference/architecture/#key-component-details","title":"Key Component Details","text":""},{"location":"reference/architecture/#kql-database","title":"KQL Database","text":"<p>The KQL Database (in Microsoft Fabric or Azure Data Explorer) provides:</p> <ul> <li>Highly scalable storage for time series data</li> <li>Performant query execution with native time series functions</li> <li>Server-side processing for filtering, aggregation, and anomaly detection</li> </ul>"},{"location":"reference/architecture/#power-bi-semantic-model","title":"Power BI Semantic Model","text":"<p>The semantic model operates in DirectQuery mode, which means:</p> <ul> <li>Queries are executed in real-time against the KQL database</li> <li>No data is imported or cached in Power BI</li> <li>Changes to source data are immediately reflected</li> </ul>"},{"location":"reference/architecture/#dynamic-m-query-parameters","title":"Dynamic M Query Parameters","text":"<p>Power BI's Dynamic M Query Parameters enable:</p> <ul> <li>Passing user inputs from filters and slicers to Power Query</li> <li>Constructing custom KQL queries based on user selections</li> <li>Efficient filtering at the data source level</li> </ul>"},{"location":"reference/architecture/#power-query-functions","title":"Power Query Functions","text":"<p>Custom Power Query functions handle:</p> <ul> <li>Parsing parameter values from the brush slicer</li> <li>Computing optimal time bin sizes</li> <li>Constructing well-formed KQL queries</li> <li>Handling edge cases and data validation</li> </ul>"},{"location":"reference/architecture/#field-parameters","title":"Field Parameters","text":"<p>Power BI Field Parameters allow end users to:</p> <ul> <li>Customize chart layouts dynamically</li> <li>Choose which metrics to display</li> <li>Configure small multiples and legends</li> </ul>"},{"location":"reference/architecture/#time-series-brush-slicer","title":"Time Series Brush Slicer","text":"<p>The custom visual provides:</p> <ul> <li>Interactive time range selection</li> <li>Visual context for the full time period</li> <li>Anomaly and marker highlighting</li> <li>Smooth brushing experience</li> </ul>"},{"location":"reference/architecture/#power-bi-report","title":"Power BI Report","text":"<p>Power BI reports offer rich and highly-interactive data visualization experiences. - Wide variety of visuals, such as tables and line charts - Interactive cross filtering and cross highlighting - Intuitive layout and formatting options</p>"},{"location":"reference/architecture/#data-flow","title":"Data Flow","text":""},{"location":"reference/architecture/#how-power-bi-works-with-the-kql-database","title":"How Power BI Works with the KQL Database","text":"<pre><code>sequenceDiagram\n    participant User\n    participant Inputs as Filters, Native Slicers,&lt;br/&gt;Time Series Brush Slicer\n    participant PowerQuery as Power Query\n    participant KQL as KQL Database\n    participant Visuals as Report Visuals\n\n    User-&gt;&gt;Inputs: Select time range,&lt;br/&gt;tags, and other parameters\n    Inputs-&gt;&gt;PowerQuery: Pass query parameters\n    PowerQuery-&gt;&gt;PowerQuery: Parse parameter&lt;br/&gt;Compute time bins&lt;br/&gt;Build KQL queries\n    PowerQuery-&gt;&gt;KQL: Execute queries\n    KQL-&gt;&gt;KQL: Filter, aggregate,&lt;br/&gt;detect anomalies\n    KQL-&gt;&gt;PowerQuery: Return summarized results\n    PowerQuery-&gt;&gt;Visuals: Display data\n    Visuals-&gt;&gt;User: Rendered report visuals</code></pre> <p>Note: this data flow is iterative -- it is repeated every time a user provides inputs via filters, native slicers or the custom Time Series Brush Slicer. </p>"},{"location":"reference/architecture/#step-by-step-flow","title":"Step-by-Step Flow","text":"<ol> <li>User provides initial inputs using Power BI report filters and slicers, including the Time Series Brush Slicer custom visual</li> <li>User selects a time range by brushing on the visual</li> <li>The visual outputs a text parameter with your selected dates</li> <li>Power Query parses the parameter and builds a KQL query with filters</li> <li>KQL Database processes everything at the source\u2014filtering, aggregating, detecting anomalies</li> <li>Only the results come back to Power BI, not the raw data</li> <li>Power BI renders visuals and allows the user to continue exploration.</li> </ol>"},{"location":"reference/architecture/#why-this-architecture-is-fast","title":"Why This Architecture Is Fast","text":"Optimization Description Filtered at source The KQL database only processes data in your selected time range Server-side processing Aggregations, binning, and calculations happen in the highly-performant KQL database Minimal data transfer Only summarized results flow to Power BI Automatic optimization The report adjusts time granularity based on your selections"},{"location":"reference/architecture/#scalability","title":"Scalability","text":"<p>This architecture can handle:</p> <ul> <li>Billions of data points through intelligent binning</li> <li>Multiple concurrent users by querying highly-scalable KQL Databases in DirectQuery mode</li> <li>Real-time data without refresh delays</li> <li>Large tag hierarchies with efficient metadata queries</li> </ul>"},{"location":"reference/architecture/#security-considerations","title":"Security Considerations","text":"<ul> <li>Authentication uses Microsoft Entra ID</li> <li>Benefit from extensive security features in Microsoft Fabric</li> <li>Row-level security can be implemented in the KQL database</li> </ul>"},{"location":"reference/brush-slicer/","title":"Time Series Brush Slicer","text":"<p>The Time Series Brush Slicer custom visual is the heart of the interactive experience. It displays your time series data as a Power BI chart and lets you brush (drag) to select time ranges.</p>"},{"location":"reference/brush-slicer/#overview","title":"Overview","text":"<p>The brush slicer enables intuitive time range selection by:</p> <ul> <li>Displaying a visual overview of your time series data</li> <li>Allowing click-and-drag selection of time ranges</li> <li>Outputting selection as a parameter for filtering other visuals</li> <li>Supporting anomaly markers and timeline events</li> </ul>"},{"location":"reference/brush-slicer/#what-it-shows","title":"What It Shows","text":""},{"location":"reference/brush-slicer/#chart-types","title":"Chart Types","text":"Type Description Line chart Traditional time series line visualization Area chart Filled area under the line for emphasis Combined Line with area fill for maximum visibility"},{"location":"reference/brush-slicer/#data-overlays","title":"Data Overlays","text":"<ul> <li>Anomaly markers highlighting unusual data points</li> <li>Timeline markers for important events</li> <li>Multiple series compared on the same chart</li> </ul>"},{"location":"reference/brush-slicer/#visual-customization","title":"Visual Customization","text":"<p>Style the visual to match your needs:</p>"},{"location":"reference/brush-slicer/#chart-appearance","title":"Chart Appearance","text":"Setting Description Line width Thickness of the time series line Line color Color of the line Area fill Whether to show filled area Opacity Transparency of the area fill"},{"location":"reference/brush-slicer/#axes-configuration","title":"Axes Configuration","text":"Setting Description Show X-axis Toggle visibility of the time axis Show Y-axis Toggle visibility of the value axis Font family Axis label font Font size Axis label size Font color Axis label color Min/Max values Fixed or auto-scaled axis ranges"},{"location":"reference/brush-slicer/#brush-overlay","title":"Brush Overlay","text":"Setting Description Selection color Color of the selected region Transparency Opacity of the brush overlay Handle style Visual style of drag handles"},{"location":"reference/brush-slicer/#conditional-formatting","title":"Conditional Formatting","text":"<p>Apply conditional formatting to:</p> <ul> <li>Color line segments based on data values</li> <li>Highlight specific time periods</li> <li>Emphasize anomalies or thresholds</li> </ul>"},{"location":"reference/brush-slicer/#how-it-filters-data","title":"How It Filters Data","text":""},{"location":"reference/brush-slicer/#parameter-output","title":"Parameter Output","text":"<p>When you select a time range, the visual outputs a text string:</p> <pre><code>\"2025-04-20|2025-04-30\"\n</code></pre> <p>This string format consists of:</p> <ul> <li>Start date (ISO 8601 format)</li> <li>Pipe separator (<code>|</code>)</li> <li>End date (ISO 8601 format)</li> </ul>"},{"location":"reference/brush-slicer/#integration-with-dynamic-m-query-parameters","title":"Integration with Dynamic M Query Parameters","text":"<pre><code>flowchart LR\n    A[User drags brush] --&gt; B[Visual outputs parameter]\n    B --&gt; C[Power Query receives parameter]\n    C --&gt; D[KQL query constructed with date filter]\n    D --&gt; E[All visuals update]</code></pre> <p>The parameter is used as a Dynamic M Query Parameter in Power BI, which:</p> <ol> <li>Is parsed by Power Query functions</li> <li>Generates appropriate KQL date filters</li> <li>Ensures all visuals show only data from the selected period</li> </ol>"},{"location":"reference/brush-slicer/#installation","title":"Installation","text":"<p>The Time Series Brush Slicer is included in both solution variants as a custom visual. No separate installation is required when using the provided <code>.pbip</code> files.</p>"},{"location":"reference/brush-slicer/#manual-installation","title":"Manual Installation","text":"<p>If you need to install the visual separately:</p> <ol> <li>Download the <code>.pbiviz</code> file from the GitHub repository</li> <li>In Power BI Desktop, go to Visualizations pane</li> <li>Click the ... menu and select Import a visual from a file</li> <li>Select the downloaded <code>.pbiviz</code> file</li> </ol>"},{"location":"reference/brush-slicer/#best-practices","title":"Best Practices","text":""},{"location":"reference/brush-slicer/#performance","title":"Performance","text":"<p>Optimize Brush Slicer Performance</p> <ul> <li>Use appropriate aggregation in the data feeding the slicer</li> <li>Limit the number of series displayed in the brush</li> <li>Consider using a separate query for brush data vs. detail data</li> </ul>"},{"location":"reference/brush-slicer/#user-experience","title":"User Experience","text":"<p>Improve User Experience</p> <ul> <li>Place the brush slicer prominently at the top of the report</li> <li>Use clear labeling to indicate the time range</li> <li>Consider adding a \"Reset\" button to return to the initial range</li> <li>Show the selected time range in a text visual for clarity</li> </ul>"},{"location":"reference/brush-slicer/#visual-design","title":"Visual Design","text":"<p>Visual Design Recommendations</p> <ul> <li>Choose colors that contrast well with the brush overlay</li> <li>Ensure sufficient height for the slicer (at least 150px)</li> <li>Keep the brush slicer simple - save detail for other visuals</li> </ul>"},{"location":"reference/brush-slicer/#troubleshooting","title":"Troubleshooting","text":""},{"location":"reference/brush-slicer/#common-issues","title":"Common Issues","text":"Issue Solution Brush doesn't respond Ensure the visual has valid data bindings Parameter not updating Check Dynamic M Query Parameter configuration Performance is slow Reduce data points or increase aggregation Visual appears blank Verify data source connectivity and permissions"},{"location":"reference/brush-slicer/#getting-help","title":"Getting Help","text":"<ul> <li>Check the GitHub Issues for known problems</li> <li>Review the visual's documentation for configuration details</li> <li>Test with sample data to isolate the issue</li> </ul>"},{"location":"reference/brush-slicer/#source-code","title":"Source Code","text":"<p>The Time Series Brush Slicer is open source. Visit the GitHub repository for:</p> <ul> <li>Source code</li> <li>Detailed documentation</li> <li>Issue tracking</li> <li>Contribution guidelines</li> </ul> <p> Time-Series-Brush-Slicer on GitHub</p>"},{"location":"reference/configuration-options/","title":"Configuration Options","text":"<p>Users can control the analysis experience through report filters and slicers. This page documents all available configuration options.</p>"},{"location":"reference/configuration-options/#time-range-settings","title":"Time Range Settings","text":""},{"location":"reference/configuration-options/#initial-time-range","title":"Initial Time Range","text":"<p>Users can specify the initial time range using the Show data for the last slicer with relative periods:</p> Option Description 1 min Last 1 minute 5 min Last 5 minutes 15 min Last 15 minutes 1 hour Last 1 hour 6 hours Last 6 hours 1 day Last 24 hours 7 days Last 7 days 30 days Last 30 days Custom Specify arbitrary start and end dates"},{"location":"reference/configuration-options/#custom-anchor-date","title":"Custom Anchor Date","text":"<p>Historical Analysis</p> <p>Use the Custom Anchor Date filter to streamline analysis of historical data preceding a specific date. When set, relative time periods are calculated from the anchor date rather than the current time.</p>"},{"location":"reference/configuration-options/#custom-date-range","title":"Custom Date Range","text":"<p>When selecting custom from the Show data for the last slicer, you can specify:</p> <ul> <li>Start date: Beginning of the analysis period</li> <li>End date: End of the analysis period</li> </ul>"},{"location":"reference/configuration-options/#time-series-brush-range","title":"Time Series Brush Range","text":"<p>The time series brush slicer provides a high-level overview of the initial time range. By dragging the handles, you can:</p> <ul> <li>Zero-in on a specific portion of the time range</li> <li>Expand or contract the selected window</li> <li>Pan across the time range</li> </ul>"},{"location":"reference/configuration-options/#aggregation-settings","title":"Aggregation Settings","text":""},{"location":"reference/configuration-options/#max-bin-count","title":"Max Bin Count","text":"<p>Controls the maximum number of bins into which the selected time range should be split.</p> Setting Effect Lower values (e.g., 100) Smoother charts, easier to interpret trends Higher values (e.g., 1500) More detailed and granular charts <p>Performance Balance</p> <p>This setting balances detail with performance and readability while helping to satisfy Power BI's data point limits</p>"},{"location":"reference/configuration-options/#preferred-time-grain","title":"Preferred Time Grain","text":"<p>Specify the preferred time granularity for analysis:</p> Option Description Auto Intelligently determines granularity based on time period and Max Bin Count 1 sec 1-second intervals 1 min 1-minute intervals 5 min 5-minute intervals 15 min 15-minute intervals 1 hour 1-hour intervals 1 day Daily intervals 7 days Weekly intervals <p>Time Grain Behavior</p> <p>This setting is treated as a suggestion. If the specified grain would result in more time bins than permitted by the Max Bin Count setting, the report will behave similarly to the Auto setting.</p>"},{"location":"reference/configuration-options/#aggregation-method","title":"Aggregation Method","text":"<p>Select how to summarize raw data points within each time bin:</p> Method Use Case <code>avg</code> General trend analysis <code>sum</code> Cumulative metrics (e.g., production counts) <code>min</code> Finding minimum values or dips <code>max</code> Finding peak values <code>count</code> Event frequency analysis <code>count_distinct</code> Unique value counting"},{"location":"reference/configuration-options/#chart-configuration","title":"Chart Configuration","text":""},{"location":"reference/configuration-options/#layout-options","title":"Layout Options","text":"<p>Control how the main line chart displays multiple time series. This configuration allows you to control:</p> <ul> <li>Whether each time series (or tag) is split into a separate chart with an independent vertical axis</li> <li>Whether each time series is differentiated by color</li> </ul>"},{"location":"reference/configuration-options/#tag-selection","title":"Tag Selection","text":""},{"location":"reference/configuration-options/#tag-hierarchy","title":"Tag Hierarchy","text":"<p>Use the hierarchical slicer to navigate through tag levels:</p> <pre><code>Level 1 (e.g., Plant)\n\u2514\u2500\u2500 Level 2 (e.g., Area)\n    \u2514\u2500\u2500 Level 3 (e.g., Unit)\n        \u2514\u2500\u2500 Level 4 (e.g., Instrument)\n</code></pre> <p>This helps users find the right tags for analysis in large tag databases.</p>"},{"location":"reference/configuration-options/#tags","title":"Tags","text":"<p>After filtering with the hierarchy, select one or more tags to include in detailed analysis.</p> <p>Multi-Tag Analysis</p> <p>When selecting multiple tags, use the Chart Configuration options to optimize how they're displayed together.</p>"},{"location":"reference/configuration-options/#statistics","title":"Statistics","text":""},{"location":"reference/configuration-options/#toggle-statistics-tab","title":"Toggle Statistics Tab","text":"<p>Activate the Statistics tab to display:</p> Statistic Description Descriptive Statistics Mean, median, standard deviation, min, max for each tag Correlation Coefficients Pearson correlation between tags (when analyzing multiple tags)"},{"location":"resources/external-links/","title":"External Resources","text":"<p>A curated list of helpful resources for working with this solution.</p>"},{"location":"resources/external-links/#related-projects","title":"Related Projects","text":"Resource Description Time-Series-Brush-Slicer The custom visual that powers the time brushing experience"},{"location":"resources/external-links/#microsoft-documentation","title":"Microsoft Documentation","text":""},{"location":"resources/external-links/#kusto-query-language-kql","title":"Kusto Query Language (KQL)","text":"<ul> <li>KQL Overview - Official KQL documentation</li> <li>KQL Quick Reference - Handy syntax reference</li> <li>Time Series Analysis in KQL - Specific guidance for time series</li> </ul>"},{"location":"resources/external-links/#power-bi","title":"Power BI","text":"<ul> <li>DirectQuery in Power BI - Understanding DirectQuery mode</li> <li>Dynamic M Query Parameters - Key technology for this solution</li> <li>Power Query M Reference - M language documentation</li> <li>Field Parameters - Dynamic field selection</li> </ul>"},{"location":"resources/external-links/#microsoft-fabric","title":"Microsoft Fabric","text":"<ul> <li>Microsoft Fabric Documentation - Official Fabric docs</li> <li>Real-Time Intelligence in Fabric - KQL databases in Fabric</li> <li>Eventhouse Overview - Fabric's real-time data store</li> </ul>"},{"location":"resources/external-links/#azure-data-explorer","title":"Azure Data Explorer","text":"<ul> <li>Azure Data Explorer Documentation - For non-Fabric deployments</li> <li>ADX Samples - Public sample data</li> </ul>"},{"location":"resources/external-links/#learning-resources","title":"Learning Resources","text":""},{"location":"resources/external-links/#tutorials","title":"Tutorials","text":"<ul> <li>KQL Fundamentals - Microsoft Learn path</li> <li>Power BI Learning Path - Official training</li> </ul>"},{"location":"resources/external-links/#community-resources","title":"Community Resources","text":"<ul> <li>Power BI Community - Forums and discussions</li> <li>Fabric Community - Microsoft Fabric forums</li> </ul>"},{"location":"resources/external-links/#sample-data","title":"Sample Data","text":"<p>This solution uses publicly available sample data:</p> Cluster Database Description <code>https://help.kusto.windows.net/</code> <code>Trender</code> Time series sample data <code>https://help.kusto.windows.net/</code> <code>Samples</code> General ADX samples"},{"location":"resources/external-links/#tools","title":"Tools","text":""},{"location":"resources/external-links/#development","title":"Development","text":"<ul> <li>Power BI Desktop - Required for customization</li> </ul>"}]}